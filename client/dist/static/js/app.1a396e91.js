(function(e){function t(t){for(var n,o,i=t[0],s=t[1],l=t[2],h=0,b=[];h<i.length;h++)o=i[h],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&b.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(b.length)b.shift()();return a.push.apply(a,l||[]),c()}function c(){for(var e,t=0;t<a.length;t++){for(var c=a[t],n=!0,i=1;i<c.length;i++){var s=c[i];0!==r[s]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=c[0]))}return e}var n={},r={app:0},a=[];function o(t){if(n[t])return n[t].exports;var c=n[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,o),c.l=!0,c.exports}o.m=e,o.c=n,o.d=function(e,t,c){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(c,n,function(t){return e[t]}.bind(null,n));return c},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;a.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"2a22":function(e,t,c){"use strict";c("abea")},"2ec9":function(e,t,c){},"313c":function(e,t,c){},"3ba6":function(e,t,c){"use strict";c("2ec9")},"56d7":function(e,t,c){"use strict";c.r(t);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("7a23");function r(e,t,c,r,a,o){var i=Object(n["F"])("router-view");return Object(n["y"])(),Object(n["e"])(i)}var a={name:"App",components:{},data:function(){return{}}},o=(c("6859"),c("6b0d")),i=c.n(o);const s=i()(a,[["render",r]]);var l=s,u=c("6c02"),h=(c("4e82"),c("07ac"),c("b0c0"),c("8491")),b=c.n(h),d=function(e){return Object(n["B"])("data-v-a6d5a548"),e=e(),Object(n["z"])(),e},j={class:"home"},O={class:"container header"},p={class:"logo"},v=["href"],f=d((function(){return Object(n["h"])("img",{src:b.a,width:"220",height:"150",alt:""},null,-1)})),m=[f],g={class:"tip container"},y={key:0,class:"result"},_={key:1,class:"select"},w=d((function(){return Object(n["h"])("span",{class:"sortby"},"sort by: ",-1)})),k={class:"btn btn-info dropdown-toggle select-btn",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},x={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},P=["onClick"];function T(e,t,c,r,a,o){var i=Object(n["F"])("router-link"),s=Object(n["F"])("search-bar"),l=Object(n["F"])("router-view");return Object(n["y"])(),Object(n["g"])("div",j,[Object(n["h"])("div",O,[Object(n["h"])("div",p,[Object(n["j"])(i,{to:"/",custom:""},{default:Object(n["N"])((function(e){var t=e.href;return[Object(n["h"])("a",{href:t},m,8,v)]})),_:1})]),Object(n["j"])(s,{class:"search-bar",sory:a.sort},null,8,["sory"])]),Object(n["h"])("div",g,["/search"==this.$route.path||"/searchAll"==this.$route.path?(Object(n["y"])(),Object(n["g"])("h3",y," Results for '"+Object(n["J"])(Object.values(this.$route.query)[0])+"' ",1)):Object(n["f"])("",!0),"/search"==this.$route.path||"/searchAll"==this.$route.path?(Object(n["y"])(),Object(n["g"])("div",_,[w,Object(n["h"])("button",k,Object(n["J"])(a.sortBy),1),Object(n["h"])("ul",x,[(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(a.sort,(function(e){return Object(n["y"])(),Object(n["g"])("li",null,[Object(n["h"])("button",{class:"dropdown-item",onClick:function(t){return o.toSearchMovie(e)}},Object(n["J"])(e),9,P)])})),256))])])):Object(n["f"])("",!0)]),Object(n["h"])("div",{class:Object(n["s"])({resultpage:"/search"==this.$route.path||"/searchAll"==this.$route.path,infopage:"/search"!=this.$route.path&&"/searchAll"!=this.$route.path})},[Object(n["h"])("div",{class:Object(n["s"])({container:"/search"==this.$route.path||"/searchAll"==this.$route.path})},[Object(n["j"])(l,null,{default:Object(n["N"])((function(e){var t=e.Component,c=e.route;return[(Object(n["y"])(),Object(n["e"])(n["b"],null,[c.meta.keepAlive?(Object(n["y"])(),Object(n["e"])(Object(n["H"])(t),{key:c.name})):Object(n["f"])("",!0)],1024)),c.meta.keepAlive?Object(n["f"])("",!0):(Object(n["y"])(),Object(n["e"])(Object(n["H"])(t),{key:c.name}))]})),_:1})],2)],2)])}var A=c("5530"),M=(c("ac1f"),c("841c"),function(e){return Object(n["B"])("data-v-60432b56"),e=e(),Object(n["z"])(),e}),C={class:"container d-flex justify-content-center"},$={class:"input-group mb-3"},D={class:"dropdown"},J={class:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},I={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},S=["onClick"],B={class:"list-group",id:"list-group"},F=["onClick"],N={class:"input-group-append"},q=M((function(){return Object(n["h"])("i",{class:"fas fa-search"},null,-1)})),E=[q];function L(e,t,c,r,a,o){var i=Object(n["G"])("clickOutside");return Object(n["y"])(),Object(n["g"])("div",{class:Object(n["s"])({startPage:"Start Page"==this.$parent.$options.name,homePage:"Home"==this.$parent.$options.name})},[Object(n["h"])("div",C,[Object(n["O"])((Object(n["y"])(),Object(n["g"])("div",$,[Object(n["h"])("div",D,[Object(n["h"])("button",J,Object(n["J"])(e.searchFilter),1),Object(n["h"])("ul",I,[(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(e.filter_list,(function(e){return Object(n["y"])(),Object(n["g"])("li",null,[Object(n["h"])("button",{class:"dropdown-item",onClick:function(t){return o.changeFilter(e)}},Object(n["J"])(e),9,S)])})),256))])]),Object(n["O"])(Object(n["h"])("input",{type:"text",class:"form-control",id:"searchBar",placeholder:"search","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchText=t}),onKeydown:t[1]||(t[1]=Object(n["P"])((function(){return o.search&&o.search.apply(o,arguments)}),["enter"])),onKeyup:t[2]||(t[2]=function(e){return o.get(e)})},null,544),[[n["L"],e.searchText]]),Object(n["h"])("ul",B,[(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(e.myData,(function(e){return Object(n["y"])(),Object(n["g"])("li",{class:"list-group-item",onClick:function(t){return o.caa(e)}},Object(n["J"])(e),9,F)})),256))]),Object(n["h"])("div",N,[Object(n["h"])("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=function(){return o.search&&o.search.apply(o,arguments)})},E)])])),[[i,o.toggle_droplist]])])],2)}var R=c("ade3"),G=c("1da1"),z=(c("96cf"),c("498a"),c("d3b7"),c("99af"),c("25a0")),U=c("e3e1");c("4d63"),c("c607"),c("2c3e"),c("25f0"),c("00b4");var H={beforeMount:function(e,t){e.clickOutsideEvent=function(c){e==c.target||e.contains(c.target)?t.value(!0):t.value(!1)},document.addEventListener("click",e.clickOutsideEvent)},unmounted:function(e){document.removeEventListener("click",e.clickOutsideEvent)}},V={name:"Search Bar",directives:{clickOutside:H},props:{sort:{type:Array,default:function(){return[]}}},data:function(){return{api:"api/movies/check",v$:Object(z["a"])(),searchText:"",searchFilter:"Title",filter_list:["Title","Genre","Celebrity","Plot"],myData:[],tt:"",now:-1,listgroup:null}},mounted:function(){this.listgroup=document.getElementById("list-group")},methods:{toggle_droplist:function(e){this.listgroup.style.display=e?"block":"none"},caa:function(e){this.searchText=e},search:function(){var e=this;return Object(G["a"])(regeneratorRuntime.mark((function t(){var c,n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"/home/search?"+e.searchFilter+"="+e.searchText,t.next=3,e.v$.$validate();case 3:c=t.sent,0==c?alert("Wrong input"):"All"==e.searchFilter?(console.log("search All"),r=e.$route.query.sort,r=r||e.sort[0],e.$router.push({path:"/searchAll",query:(n={},Object(R["a"])(n,e.searchFilter,e.searchText),Object(R["a"])(n,"sort",r),n)})):(console.log("search category"),o=e.$route.query.sort,o=o||e.sort[0],e.$router.push({path:"/search",query:(a={},Object(R["a"])(a,e.searchFilter,e.searchText),Object(R["a"])(a,"sort",o),a)}));case 5:case"end":return t.stop()}}),t)})))()},changeFilter:function(e){this.searchFilter=e,this.searchText=""},get:function(e){this.listgroup.style.display="block",38!==e.keyCode&&40!==e.keyCode&&(this.myData=[],this.throttle(this.getData,window))},getData:function(){var e=this;this.searchText=this.searchText.trim(),fetch("".concat(this.api,"?input=").concat(this.searchText)).then((function(e){return e.json()})).then((function(t){"success"==t.response&&(e.myData=t.promp)}))},throttle:function(e,t){clearTimeout(e.tId),e.tId=setTimeout((function(){e.call(t)}),1e3)}},validations:function(){switch(this.searchFilter){case"Title":return{searchText:{required:U["a"]}};case"Genre":return{searchText:{required:U["a"]}};case"Celebrity":return{searchText:{required:U["a"]}};case"Plot":return{searchText:{required:U["a"]}}}}};c("a99c");const K=i()(V,[["render",L],["__scopeId","data-v-60432b56"]]);var Y=K,W={name:"Home",components:{SearchBar:Y},data:function(){return{sort:["relevance","popularity","rating","release_date"],sortBy:"relevance"}},methods:{toSearchMovie:function(e){this.sortBy=e;var t=this.$route.query;this.$router.push({path:"/search",query:Object(A["a"])(Object(A["a"])({},t),{},{sort:this.sortBy})})}}};c("3ba6");const Q=i()(W,[["render",T],["__scopeId","data-v-a6d5a548"]]);var X=Q,Z={class:"title"},ee={class:"box"},te={class:"left"},ce=["src","alt"],ne={class:"info"},re={class:"director"},ae={class:"actors"},oe={class:"gerne"},ie={class:"rating"},se={class:"votes"},le={class:"runtime"},ue={class:"imdbid"},he={class:"plot-title"};function be(e,t,c,r,a,o){return Object(n["y"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("h1",Z,Object(n["J"])(e.movie.Title)+" ("+Object(n["J"])(e.movie.Year)+")",1),Object(n["h"])("div",ee,[Object(n["h"])("div",te,[Object(n["h"])("img",{src:e.movie.Poster,class:"img-fluid rounded-start",alt:e.movie.Title},null,8,ce)]),Object(n["h"])("div",ne,[Object(n["h"])("div",re,"Director: "+Object(n["J"])(e.movie.Director),1),Object(n["h"])("div",ae,"Actors: "+Object(n["J"])(e.movie.Actors),1),Object(n["h"])("div",oe,"Gerne: "+Object(n["J"])(e.movie.Genre),1),Object(n["h"])("div",ie,"Rating: "+Object(n["J"])(e.movie.imdbRating),1),Object(n["h"])("div",se,"Votes: "+Object(n["J"])(e.movie.imdbVotes),1),Object(n["h"])("div",le,"Runtime: "+Object(n["J"])(e.movie.Runtime),1),Object(n["h"])("div",ue,"IMDB ID: "+Object(n["J"])(e.movie.imdbID),1),Object(n["h"])("div",null,[Object(n["h"])("h3",he,"Plot of "+Object(n["J"])(e.movie.Title),1),Object(n["h"])("h4",null,Object(n["J"])(e.movie.Plot),1)])])])],64)}var de={name:"MovieInfoPage",props:{id:String},data:function(){return{api:"/api/movies/id/",movie:Object}},created:function(){var e=this;console.log("MovieInfoPage created");var t=this.id;console.log("".concat(this.api).concat(t)),fetch("".concat(this.api).concat(t)).then((function(e){return e.json()})).then((function(t){"success"==t.response&&(console.log(t.response),e.movie=t.movie)}))}};c("9a14");const je=i()(de,[["render",be]]);var Oe=je,pe=function(e){return Object(n["B"])("data-v-0a00bfec"),e=e(),Object(n["z"])(),e},ve={class:"start"},fe=pe((function(){return Object(n["h"])("img",{src:b.a,class:"logo"},null,-1)}));function me(e,t,c,r,a,o){var i=Object(n["F"])("search-bar");return Object(n["y"])(),Object(n["g"])("div",ve,[fe,Object(n["j"])(i,{sort:["relevance","popularity","rating","release_date"]})])}var ge={id:"box"};function ye(e,t,c,r,a,o){return Object(n["y"])(),Object(n["g"])("div",ge,[Object(n["O"])(Object(n["h"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.tt=t}),name:"",onKeyup:t[1]||(t[1]=function(e){return o.get(e)}),onKeydown:[t[2]||(t[2]=Object(n["P"])((function(e){return o.changeDown()}),["down"])),t[3]||(t[3]=Object(n["P"])((function(e){return o.changeUp()}),["up"]))]},null,544),[[n["L"],e.tt]]),Object(n["h"])("ul",null,[(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(e.myData,(function(t,c){return Object(n["y"])(),Object(n["g"])("li",{class:Object(n["s"])({gray:c===e.now})},Object(n["J"])(t),3)})),256))])])}var _e={name:"searchBar with dropdown",data:function(){return{myData:[],tt:"",now:-1}},methods:{get:function(e){38!==e.keyCode&&40!==e.keyCode&&(13===e.keyCode&&(window.open("https://www.baidu.com/s?wd="+this.tt),this.tt=""),this.throttle(this.getData,window))},changeDown:function(){this.now++,this.now===this.myData.length&&(this.now=-1),this.tt=this.myData[this.now]},changeUp:function(){this.now--,-2===this.now&&(this.now=this.myData.length-1),this.tt=this.myData[this.now]},getData:function(){},throttle:function(e,t){clearTimeout(e.tId),e.tId=setTimeout((function(){e.call(t)}),300)}}};c("bf15");const we=i()(_e,[["render",ye],["__scopeId","data-v-c07e4f94"]]);var ke=we,xe={name:"Start Page",components:{SearchBar:Y,Dropdown:ke}};c("df83");const Pe=i()(xe,[["render",me],["__scopeId","data-v-0a00bfec"]]);var Te=Pe,Ae=function(e){return Object(n["B"])("data-v-2365e83d"),e=e(),Object(n["z"])(),e},Me={class:"not_found"},Ce=Ae((function(){return Object(n["h"])("div",{class:"conotent-wrap"},[Object(n["h"])("div",{class:"content1"},[Object(n["h"])("h1",null,"Sorry, no result for it.")]),Object(n["h"])("div",{class:"content2"},[Object(n["h"])("h1",null,"We are working hard to enlarge our database."),Object(n["h"])("h1",null,"Please try another keywords in the searching box."),Object(n["h"])("h1",null,"Thanks for your patience.")])],-1)})),$e=[Ce];function De(e,t,c,r,a,o){return Object(n["y"])(),Object(n["g"])("div",Me,$e)}var Je={name:"ErrorPage"};c("87ca");const Ie=i()(Je,[["render",De],["__scopeId","data-v-2365e83d"]]);var Se=Ie,Be={class:"row gy-5"},Fe={class:"col-12"};function Ne(e,t,c,r,a,o){var i=Object(n["F"])("movie-card-container"),s=Object(n["F"])("pagination");return Object(n["y"])(),Object(n["g"])("div",Be,[Object(n["h"])("div",Fe,[Object(n["j"])(i,{movies:e.movies},null,8,["movies"]),Object(n["j"])(s,{total_page:o.total_page,current_page:e.current_page,onChangePage:t[0]||(t[0]=function(e){return o.change_page(e)})},null,8,["total_page","current_page"])])])}c("b64b"),c("3ca3"),c("ddb0"),c("9861"),c("5319");var qe={class:"list-group"};function Ee(e,t,c,r,a,o){var i=Object(n["F"])("movie-card"),s=Object(n["F"])("router-link");return Object(n["y"])(),Object(n["g"])("div",qe,[(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(c.movies,(function(e){return Object(n["y"])(),Object(n["g"])("div",null,[Object(n["j"])(s,{to:"/movie/"+e.imdbID,custom:""},{default:Object(n["N"])((function(t){var c=t.href;return[Object(n["j"])(i,{movie:e,href:c},null,8,["movie","href"])]})),_:2},1032,["to"])])})),256))])}c("1276");var Le=function(e){return Object(n["B"])("data-v-7aa613c8"),e=e(),Object(n["z"])(),e},Re={class:"card"},Ge={class:"row"},ze={class:"col-md-2"},Ue=["src","alt"],He={class:"col-md-10"},Ve={class:"card-body"},Ke={class:"card-title card-text",style:{color:"black"}},Ye=["href"],We={class:"card-text"},Qe={class:"card-text",style:{color:"black"}},Xe={class:"card-text",style:{color:"black"}},Ze={class:"card-text"},et={key:0,class:"show_wrap"},tt=Le((function(){return Object(n["h"])("div",{class:"card_title"},"Similar films you might like:",-1)})),ct={class:"row show_row"},nt=["src","alt"],rt={class:"card-title card-text",style:{"margin-top":"15px"}},at=["href"];function ot(e,t,c,r,a,o){return Object(n["y"])(),Object(n["g"])("div",Re,[Object(n["h"])("div",Ge,[Object(n["h"])("div",ze,[Object(n["h"])("img",{src:c.movie.Poster,class:"img-fluid rounded-start",alt:c.movie.Title},null,8,Ue)]),Object(n["h"])("div",He,[Object(n["h"])("div",Ve,[Object(n["h"])("h5",Ke,[Object(n["h"])("a",{class:"card-text",href:"https://www.imdb.com/title/".concat(c.movie.imdbID),target:"_blank"},Object(n["J"])(c.movie.Title),9,Ye),Object(n["h"])("span",null,"("+Object(n["J"])(c.movie.Year)+")",1),Object(n["h"])("span",{class:Object(n["s"])(["icon-down",[a.isShow?"right_active":"bottom_active"]]),onClick:t[0]||(t[0]=function(e){return o.toOpenDownList(c.movie._id)})},null,2)]),Object(n["h"])("p",We,[Object(n["i"])(Object(n["J"])(c.movie.Runtime?c.movie.Runtime:"N/A")+" ",1),(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(c.movie.Genre.split(","),(function(e){return Object(n["y"])(),Object(n["g"])("span",null," | "+Object(n["J"])(e),1)})),256))]),Object(n["h"])("p",Qe,"Director: "+Object(n["J"])(c.movie.Director?c.movie.Director:"N/A"),1),Object(n["h"])("p",Xe,[Object(n["i"])(" Actors: "+Object(n["J"])(c.movie.Actors?c.movie.Actors:"N/A")+" ",1),(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(c.movie.Actors.split(","),(function(e){return Object(n["y"])(),Object(n["g"])("span",null," | "+Object(n["J"])(e),1)})),256))]),Object(n["h"])("p",Ze,Object(n["J"])("N/A"==c.movie.Plot?"No Plot":c.movie.Plot.replace(/(\r\n|\n|\r|\<>)/gm,"")),1)])])]),a.isShow?(Object(n["y"])(),Object(n["g"])("div",et,[tt,Object(n["h"])("div",ct,[(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(a.relationList,(function(e,t){return Object(n["y"])(),Object(n["g"])("div",{key:e._id,class:"col-12-5"},[a.loading[t]?(Object(n["y"])(),Object(n["g"])("div",{key:0,class:Object(n["s"])({is_loading:a.loading[t]})},"Loading...",2)):Object(n["f"])("",!0),Object(n["h"])("img",{src:e.Poster,class:"img-fluid rounded-start col-img",alt:e.Title},null,8,nt),Object(n["h"])("h5",rt,[Object(n["h"])("a",{class:"card-text",href:"https://www.imdb.com/title/".concat(e.imdbID),target:"_blank"},Object(n["J"])(e.Title),9,at)])])})),128))])])):Object(n["f"])("",!0)])}c("d81d"),c("159b");var it={name:"MovieCard",props:{href:String,movie:Object},data:function(){return{isShow:!1,api1:"api/movies/relation",api2:"/api/movies/_id",relationList:[{Title:"",Genre:"",Actors:""},{Title:"",Genre:"",Actors:""},{Title:"",Genre:"",Actors:""},{Title:"",Genre:"",Actors:""},{Title:"",Genre:"",Actors:""}],loading:[!1,!1,!1,!1,!1]}},methods:{toOpenDownList:function(e){var t=this;return Object(G["a"])(regeneratorRuntime.mark((function c(){var n;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:if(t.isShow=!t.isShow,t.isShow){c.next=3;break}return c.abrupt("return");case 3:for(n=0;n<t.loading.length;n++)t.loading[n]=!0;fetch("".concat(t.api1,"?id=").concat(e)).then((function(e){return e.json()})).then((function(e){if("success"===e.response){var c=e.movies.map((function(e){return e[0]}));t.getRelationList(c)}}));case 5:case"end":return c.stop()}}),c)})))()},getRelationList:function(e){var t=this;e.forEach(function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(c,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:fetch("".concat(t.api2,"/").concat(c)).then((function(e){return e.json()})).then((function(e){"success"===e.response&&(t.relationList[n]=e.movie),t.loading[n]=!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}())}},watch:{$route:function(){this.isShow=!1}}};c("2a22");const st=i()(it,[["render",ot],["__scopeId","data-v-7aa613c8"]]);var lt=st,ut={name:"MovieCardContainer",props:{movies:Array},components:{MovieCard:lt},data:function(){return{}}};const ht=i()(ut,[["render",Ee]]);var bt=ht,dt={"aria-label":"Page navigation example page_top"},jt={class:"pagination justify-content-center"},Ot={key:0,class:"page-item"},pt=["onClick"],vt={key:1,class:"page-item"};function ft(e,t,c,r,a,o){return Object(n["y"])(),Object(n["g"])("nav",dt,[Object(n["h"])("ul",jt,[c.current_page>1?(Object(n["y"])(),Object(n["g"])("li",Ot,[Object(n["h"])("button",{class:"page-link",onClick:t[0]||(t[0]=function(e){return o.change_page(c.current_page-1)})},"Previous")])):Object(n["f"])("",!0),(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(o.pages,(function(e){return Object(n["y"])(),Object(n["g"])("li",{class:Object(n["s"])(["page-item",{active:c.current_page==e}])},[Object(n["h"])("button",{class:"page-link",onClick:function(t){return o.change_page(e)}},Object(n["J"])(e),9,pt)],2)})),256)),c.current_page<c.total_page?(Object(n["y"])(),Object(n["g"])("li",vt,[Object(n["h"])("button",{class:"page-link",onClick:t[1]||(t[1]=function(e){return o.change_page(c.current_page+1)})},"Next")])):Object(n["f"])("",!0)])])}c("a9e3");var mt={name:"Pagination",props:{total_page:Number,current_page:{type:Number,default:1,required:!0},maxVisibleButtons:{type:Number,required:!1,default:10},showItem:{type:Number,required:!1,default:5}},methods:{change_page:function(e){this.$emit("changePage",e)}},computed:{pages:function(){var e=[];if(this.current_page<this.showItem){var t=Math.min(this.showItem,this.total_page);while(t)e.unshift(t--)}else{var c=this.current_page-Math.floor(this.showItem/2);t=this.showItem;c>this.total_page-this.showItem&&(c=this.total_page-this.showItem+1);while(t--)e.push(c++)}return e}}};c("808f");const gt=i()(mt,[["render",ft],["__scopeId","data-v-786c540f"]]);var yt=gt,_t={name:"MovieListPage",components:{MovieCardContainer:bt,MovieCard:lt,Pagination:yt},created:function(){var e=this;console.log("MovieListPage created"),this.$watch((function(){return e.$route.query}),(function(t,c){e.search_params={};var n=e.$route.query;if(0!=Object.keys(n).length){for(var r in n)e.search_params[r]=n[r];e.search()}}),{immediate:!0})},data:function(){return{api:"/api/movies/search",movies:null,total_number:null,current_page:1,search_params:{},movies_per_page:20}},methods:{change_page:function(e){var t=this;window.scrollTo(0,0),this.search_params["page"]=e;var c=new URLSearchParams(this.search_params);console.log("".concat(this.api,"?").concat(c)),fetch("".concat(this.api,"?").concat(c)).then((function(e){return e.json()})).then((function(e){console.log(e.response);var c=e.movies;console.log(c.length),t.movies=c,t.current_page=e.current_page}))},search:function(){var e=this;if(void 0==this.search_params.All){var t=new URLSearchParams(this.search_params);console.log("".concat(this.api,"?").concat(t)),window.scrollTo(0,0),fetch("".concat(this.api,"?").concat(t)).then((function(e){return e.json()})).then((function(t){"success"==t.response?(e.movies=t.movies,e.total_number=t.total_number,e.current_page=t.current_page):e.$router.replace({path:"/notfound/1"})}))}}},computed:{total_page:function(){return Math.ceil(this.total_number/this.movies_per_page)}}};const wt=i()(_t,[["render",Ne]]);var kt=wt,xt=function(e){return Object(n["B"])("data-v-0a2494ab"),e=e(),Object(n["z"])(),e},Pt={class:"row gy-5"},Tt={class:"col-10"},At={class:"bg-grey"},Mt=xt((function(){return Object(n["h"])("h4",{class:"abc"},"Title",-1)})),Ct={class:"rightright"},$t=xt((function(){return Object(n["h"])("h4",{class:"def"},"More",-1)})),Dt={key:1,class:"card",style:{color:"red"}},Jt={class:"col-10"},It={class:"bg-grey"},St=xt((function(){return Object(n["h"])("h4",{class:"abc"},"Celebrity",-1)})),Bt={class:"rightright"},Ft=xt((function(){return Object(n["h"])("h4",{class:"def"},"More",-1)})),Nt={key:1,class:"card",style:{color:"red"}},qt={class:"col-10"},Et={class:"bg-grey"},Lt=xt((function(){return Object(n["h"])("h4",{class:"abc"},"Genre",-1)})),Rt={class:"rightright"},Gt=xt((function(){return Object(n["h"])("h4",{class:"def"},"More",-1)})),zt={key:1,class:"card",style:{color:"red"}},Ut={class:"col-10"},Ht={class:"bg-grey"},Vt=xt((function(){return Object(n["h"])("h4",{class:"abc"},"Year",-1)})),Kt={class:"rightright"},Yt=xt((function(){return Object(n["h"])("h4",{class:"def"},"More",-1)})),Wt={key:1,class:"card",style:{color:"red"}};function Qt(e,t,c,r,a,o){var i=Object(n["F"])("router-link"),s=Object(n["F"])("movie-card-container");return Object(n["y"])(),Object(n["g"])("div",Pt,[Object(n["h"])("div",Tt,[Object(n["h"])("div",At,[Mt,Object(n["h"])("div",Ct,[Object(n["j"])(i,{to:"/search?Title=".concat(e.search_params)},{default:Object(n["N"])((function(){return[$t]})),_:1},8,["to"])]),null!=this.title_movies?(Object(n["y"])(),Object(n["e"])(s,{key:0,movies:e.title_movies},null,8,["movies"])):Object(n["f"])("",!0),null==this.title_movies?(Object(n["y"])(),Object(n["g"])("div",Dt," No result ")):Object(n["f"])("",!0)])]),Object(n["h"])("div",Jt,[Object(n["h"])("div",It,[St,Object(n["h"])("div",Bt,[Object(n["j"])(i,{to:"/search?Celebrity=".concat(e.search_params)},{default:Object(n["N"])((function(){return[Ft]})),_:1},8,["to"])]),null!=this.celes_movies?(Object(n["y"])(),Object(n["e"])(s,{key:0,movies:e.celes_movies},null,8,["movies"])):Object(n["f"])("",!0),null==this.celes_movies?(Object(n["y"])(),Object(n["g"])("div",Nt," No result ")):Object(n["f"])("",!0)])]),Object(n["h"])("div",qt,[Object(n["h"])("div",Et,[Lt,Object(n["h"])("div",Rt,[Object(n["j"])(i,{to:"/search?Genre=".concat(e.search_params)},{default:Object(n["N"])((function(){return[Gt]})),_:1},8,["to"])]),null!=this.genre_movies?(Object(n["y"])(),Object(n["e"])(s,{key:0,movies:e.genre_movies},null,8,["movies"])):Object(n["f"])("",!0),null==this.genre_movies?(Object(n["y"])(),Object(n["g"])("div",zt," No result ")):Object(n["f"])("",!0)])]),Object(n["h"])("div",Ut,[Object(n["h"])("div",Ht,[Vt,Object(n["h"])("div",Kt,[Object(n["j"])(i,{to:"/search?Year=".concat(e.search_params)},{default:Object(n["N"])((function(){return[Yt]})),_:1},8,["to"])]),null!=this.year_movies?(Object(n["y"])(),Object(n["e"])(s,{key:0,movies:e.year_movies},null,8,["movies"])):Object(n["f"])("",!0),null==this.year_movies?(Object(n["y"])(),Object(n["g"])("div",Wt," No result ")):Object(n["f"])("",!0)])])])}var Xt={name:"MovieAllPage",components:{MovieCardContainer:bt,MovieCard:lt},created:function(){var e=this;console.log("MovieAllPage created"),this.$watch((function(){return e.$route.query.All}),(function(t,c){console.log("".concat(c,"->").concat(t)),void 0!=t&&(e.search_params=t,e.search())}),{immediate:!0})},data:function(){return{api:"api/movies/search",title_movies:null,celes_movies:null,genre_movies:null,year_movies:null,search_params:""}},methods:{search:function(){var e=this;console.log("Search"),window.scrollTo(0,0),fetch("".concat(this.api,"?All=").concat(this.search_params)).then((function(e){return e.json()})).then((function(t){"success"==t.response?(e.title_movies=t.movies.title,e.celes_movies=t.movies.celebrity,e.genre_movies=t.movies.genre,e.year_movies=t.movies.year):e.title_movies="fail"}))}}};c("8338");const Zt=i()(Xt,[["render",Qt],["__scopeId","data-v-0a2494ab"]]);var ec=Zt,tc=[{path:"/",name:"StartPage",component:Te,meta:{keepAlive:!1}},{path:"/home",name:"Home",component:X,meta:{keepAlive:!0},children:[{path:"/search",name:"MovieListPage",component:kt,meta:{keepAlive:!1}},{path:"/notfound/:searchtxt",name:"NotFoundPage",component:Se,props:!0,meta:{keepAlive:!1}},{path:"/movie/:id",name:"MovieInfoPage",component:Oe,props:!0,meta:{keepAlive:!1}},{path:"/searchAll",name:"MovieAllPage",component:ec,meta:{keepAlive:!1}}]}],cc=Object(u["a"])({history:Object(u["b"])("/"),routes:tc}),nc=cc,rc=(c("f9e3"),c("4989"),c("f2e8"),Object(n["d"])(l));rc.use(nc),rc.mount("#app")},6859:function(e,t,c){"use strict";c("86be")},"69a0":function(e,t,c){},"6f1d":function(e,t,c){},"7c7d":function(e,t,c){},"808f":function(e,t,c){"use strict";c("c991")},8338:function(e,t,c){"use strict";c("6f1d")},8491:function(e,t,c){e.exports=c.p+"static/img/logo.e8b12045.png"},"86be":function(e,t,c){},"87ca":function(e,t,c){"use strict";c("d414")},"9a14":function(e,t,c){"use strict";c("f444")},a99c:function(e,t,c){"use strict";c("69a0")},abea:function(e,t,c){},bf15:function(e,t,c){"use strict";c("313c")},c991:function(e,t,c){},d414:function(e,t,c){},df83:function(e,t,c){"use strict";c("7c7d")},f444:function(e,t,c){}});
//# sourceMappingURL=app.1a396e91.js.map